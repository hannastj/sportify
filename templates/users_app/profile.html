{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Profile</title>
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
</head>
<body>

<!-- TOP NAV BAR (same size as other pages) -->
<nav class="navbar">
    <div class="nav-left">
        <a href="#">CONTACT</a>
    </div>
    <div class="nav-center">
        <h1>NAVIGATION BAR</h1>
    </div>
    <div class="nav-right">
        <a href="#">PROFILE</a>
        <a href="#">HOME</a>
    </div>
</nav>

<!-- LARGE BACKGROUND / PROFILE HEADER -->
<section class="profile-header">
    <!-- Background image (inline style for demo, or move to CSS) -->
    <div class="bg-picture"
         style="background: url('{% static "images/PROFILE PIC BACKGROUND.png" %}') center / cover no-repeat;">
    </div>

    <!-- Circular container for the profile image -->
    <div class="profile-image">
        {% if userprofile.profile_pic %}
            <!-- If the user uploaded a pic, display it -->
            <img src="{{ userprofile.profile_pic.url }}" alt="Profile Pic">
        {% else %}
            <!-- Otherwise, show BORAT.jpeg by default -->
            <img src="{% static 'images/BORAT.jpeg' %}" alt="Default Pic">
        {% endif %}
    </div>

    <!-- Overlapping name box -->
    <div class="user-name-box">
        <p>{{ userprofile.user.username }} Borat, 23</p>
        <!-- or any other name/age logic -->
    </div>
</section>

<!-- PROFILE DESCRIPTION BAR -->
<section class="profile-description-bar">
    <h2> My name is Borat Sagdiyev. I come from glorious Kazakhstan,
        but now I study at the University of Glasgow, working on PhD in Politics.
        I hope to share my unique flexibility with the Scottish friends. Very nice!</h2>
</section>

<!-- MAIN CONTENT: 3 COLUMNS -->
<div class="profile-content">
    <!-- LEFT COLUMN: Age, Gyms, Sports Club, Buddy List -->
    <div class="left-col">
        <h3>AGE</h3>
        <p>23</p>
        <h3>GYMS</h3>
        <p>UoG Gym</p>
        <h3>SPORTS CLUB</h3>
        <p>Beach Volleyball Club</p>
        <h3>BUDDY LIST</h3>
        <p>Adam, Claire, Isaac, etc.</p>
    </div>

    <!-- CENTER COLUMN: Create Event / My Events -->
    <div class="center-col">
        <!-- Tabs Row -->
        <div class="tabs-row">
            <button class="tab-btn active" data-tab="create-event">Create Event</button>
            <button class="tab-btn" data-tab="my-events">My Events</button>
        </div>

        <!-- Tab Content Wrapper -->
        <div class="tab-content-area">
            <!-- CREATE EVENT CONTENT -->
            <div class="tab-content active" id="create-event">
                <h2>Create Event</h2>
                <p>Form or fields for creating an event go here.</p>
                <!-- Example form (replace with real Django form) -->
                <form method="POST">
                    {% csrf_token %}
                    <!-- your event fields, e.g. title, date, location... -->
                    <button type="submit" class="create-event-btn">Submit Event</button>
                </form>
            </div>

            <!-- MY EVENTS CONTENT -->
            <div class="tab-content" id="my-events">
                <h2>My Events</h2>
                <div class="my-events-list">
                    <!-- This area can be populated dynamically with user's events -->
                    <div class="event-item">Event A</div>
                    <div class="event-item">Event B</div>
                    <div class="event-item">Event C</div>
                    <!-- Add more events to test the scrollbar -->
                    <div class="event-item">Event D</div>
                    <div class="event-item">Event E</div>
                    <div class="event-item">Event F</div>
                </div>
            </div>
        </div>
    </div>

    <!-- RIGHT COLUMN: Settings + Upload New Profile Pic -->
    <div class="right-col">
        <h2>SETTINGS</h2>
        <p>Change password, notification preferences, etc.</p>

        <!-- Upload Profile Picture Form -->
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <label for="profile_pic">Upload New Profile Picture:</label><br><br>
            <input type="file" name="profile_pic" id="profile_pic"><br><br>
            <button type="submit" class="btn">Save Picture</button>
        </form>
    </div>
</div>

<!-- Script for Tab Switching (same as before) -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove 'active' from all tabs
                tabButtons.forEach(b => b.classList.remove('active'));
                tabContents.forEach(tc => tc.classList.remove('active'));

                // Activate this tab
                btn.classList.add('active');
                const targetId = btn.getAttribute('data-tab');
                document.getElementById(targetId).classList.add('active');
            });
        });
    });
</script>

</body>
</html>